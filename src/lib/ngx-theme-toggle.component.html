<button
    #themeButton
    type="button"
    class="om-theme-toggle"
    (click)="toggleTheme()"
>
  @if (isDark()) {
    @if (hasDarkIcon()) {
      <ng-content select="[darkIcon],[dark-icon]"></ng-content>
    } @else {
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
           viewBox="0 0 24 24" fill="none" stroke="currentColor"
           stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
           class="lucide lucide-sun" aria-hidden="true">
        <circle cx="12" cy="12" r="4"></circle>
        <path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/>
      </svg>
    }
  } @else {
    @if (hasLightIcon()) {
      <ng-content select="[lightIcon],[light-icon]"></ng-content>
    } @else {
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
           viewBox="0 0 24 24" fill="none" stroke="currentColor"
           stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
           class="lucide lucide-moon" aria-hidden="true">
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
      </svg>
    }
  }

  @if (showText || hasLabel()) {
    @if (hasLabel()) {
      <ng-content select="[toggleLabel],[label]"></ng-content>
    } @else {
      <span class="sr-only">Toggle theme</span>
    }
  }
</button>
